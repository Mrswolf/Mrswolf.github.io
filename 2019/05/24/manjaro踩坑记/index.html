<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=5,viewport-fit=cover"><title>manjaro踩坑记(2022更新版) | swolf的博客</title><meta name="description" content="从2019年到2022年，manjaro发行版渡过了我的整个博士生涯。最近毕业重新装了系统，依然选择了最新的manjaro KDE Plasma 21.2.4（本来装了arch，大小问题不断被劝退了😜）。基本上这台linux主机要跟着我进入人生下一阶段，作为主力台式机也不打算再折腾了。安装过程中有一些新的学习体会（坑），在这里更新记录一下，希望能帮到有需要的朋友～"><meta property="og:type" content="article"><meta property="og:title" content="manjaro踩坑记(2022更新版)"><meta property="og:url" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/index.html"><meta property="og:site_name" content="swolf的博客"><meta property="og:description" content="从2019年到2022年，manjaro发行版渡过了我的整个博士生涯。最近毕业重新装了系统，依然选择了最新的manjaro KDE Plasma 21.2.4（本来装了arch，大小问题不断被劝退了😜）。基本上这台linux主机要跟着我进入人生下一阶段，作为主力台式机也不打算再折腾了。安装过程中有一些新的学习体会（坑），在这里更新记录一下，希望能帮到有需要的朋友～"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/welcome.png"><meta property="og:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/live.png"><meta property="og:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/choose_partition.png"><meta property="og:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/manual_partition.png"><meta property="og:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/nvidia_settings.png"><meta property="article:published_time" content="2019-05-23T16:00:00.000Z"><meta property="article:modified_time" content="2022-03-20T16:00:00.000Z"><meta property="article:author" content="swolf"><meta property="article:tag" content="manjaro"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/welcome.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/common.min.css"><link rel="stylesheet" href="/css/iconfont.min.css"><meta name="generator" content="Hexo 6.1.0"></head><body><header class="header header-fixture"><div class="profile-search-wrap flex sm:block"><div class="profile sm:text-center md:px-1 lg:px-3 sm:pb-4 sm:pt-6"><a id="avatar" role="link" href="https://github.com/mrswolf" class="inline-block lg:w-16 lg:h-16 w-8 h-8 m-2" target="_blank" rel="noopener" rel="noreferrer"><img src="/images/avatar.jpg" class="rounded-full" alt="avatar"></a><h2 id="name" class="hidden lg:block">swolf</h2><h3 id="title" class="hidden xl:block">PhD &amp; Engineer &amp; Coder</h3><small id="location" class="hidden lg:block"><i class="iconfont icon-map-icon"></i> Earth, Universe</small></div><div class="search flex-1 flex lg:inline-block sm:hidden lg:px-4 lg:mt-2 lg:mb-4 lg:w-full"><form id="search-form" class="my-auto flex-1 lg:border lg:border-solid lg:border-gray-200"><div class="input-group table bg-gray-100 lg:bg-white w-full"><input id="search-input" type="text" placeholder="搜索" class="inline-block w-full bg-gray-100 lg:bg-white"> <span class="table-cell"><button name="search tigger button" disabled><i class="iconfont icon-search m-2"></i></button></span></div></form><div id="content-json" data-placeholder="搜索" class="invisible hidden">/content.json</div><script id="search-teamplate" type="text/html" data-path="/content.json"><div>
        <div class="search-header bg-gray-400">
            <input id="actual-search-input" model="keyword" ref="input" class="inline-block w-full h-10 px-2 py-1" placeholder="搜索" type="text">
        </div>
        <div class="search-result bg-gray-200">
            {{#each searchPosts}}
            <a href="/{{ path }}" class="result-item block px-2 pb-3 mb-1 pt-1 hover:bg-indigo-100">
                <i class="iconfont icon-file"></i>
                <h1 class="result-title inline font-medium text-lg">{{ title }}</h1>
                <p class="result-content text-gray-600 text-sm">{{{ text }}}</p>
            </a>
            {{/each}}
        </div>
    </div></script></div><button name="menu toogle button" id="menu-toggle-btn" class="block sm:hidden p-3" role="button" aria-expanded="false"><i class="iconfont icon-hamburger"></i></button></div><nav id="menu-nav" class="hidden sm:flex flex-col"><div class="menu-item menu-home" role="menuitem"><a href="/."><i class="iconfont icon-home" aria-hidden="true"></i> <span class="menu-title">首页</span></a></div><div class="menu-item menu-archives" role="menuitem"><a href="/archives"><i class="iconfont icon-archive" aria-hidden="true"></i> <span class="menu-title">归档</span></a></div><div class="menu-item menu-categories" role="menuitem"><a href="/categories"><i class="iconfont icon-folder" aria-hidden="true"></i> <span class="menu-title">分类</span></a></div><div class="menu-item menu-tags" role="menuitem"><a href="/tags"><i class="iconfont icon-tag" aria-hidden="true"></i> <span class="menu-title">标签</span></a></div><div class="menu-item menu-repository" role="menuitem"><a href="/repository"><i class="iconfont icon-project" aria-hidden="true"></i> <span class="menu-title">项目</span></a></div><div class="menu-item menu-about" role="menuitem"><a href="/about"><i class="iconfont icon-cup" aria-hidden="true"></i> <span class="menu-title">关于</span></a></div><div class="social-links flex sm:flex-col lg:hidden mt-5"><span class="social-item text-center"><a target="_blank" rel="noopener" href="https://github.com/mrswolf"><i class="iconfont social-icon icon-github"></i> <span class="menu-title hidden lg:inline">menu.github</span> </a></span><span class="social-item text-center"><a href="/atom.xml"><i class="iconfont social-icon icon-rss"></i> <span class="menu-title hidden lg:inline">menu.rss</span></a></span></div></nav></header><section class="main-section"><main class="flex-1 px-4 py-14 md:px-5 lg:px-8 lg:py-4 relative min-h-screen"><article class="content article article-archives article-type-list" itemscope><header class="article-header"><h1 class="article-title text-lg" itemprop="name">manjaro踩坑记(2022更新版)</h1><p class="article-meta mb-3 text-xs"><span class="article-date"><i class="iconfont icon-calendar-check"></i> <a href="/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/" class="article-date"><time datetime="2019-05-23T16:00:00.000Z" itemprop="datePublished">5月 24</time> </a></span><span class="article-category"><i class="iconfont icon-folder"></i> <a class="article-category-link" href="/categories/linux/">linux</a> </span><span class="article-tags"><i class="iconfont icon-tag"></i> <a class="article-tag-none-link" href="/tags/linux/" rel="tag">linux</a>, <a class="article-tag-none-link" href="/tags/manjaro/" rel="tag">manjaro</a> </span><span class="_partial/post-comment"><i class="icon icon-comment"></i> <a href="/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/#comments" class="article-comment-link">评论 </a></span><span class="post-wordcount" itemprop="wordCount">字数统计: 5.2k(字)</span> <span class="post-readcount" itemprop="timeRequired">阅读时长: 20(分)</span></p></header><div class="marked-body article-body"><p>从2019年到2022年，manjaro发行版渡过了我的整个博士生涯。最近毕业重新装了系统，依然选择了最新的<a target="_blank" rel="noopener" href="https://manjaro.org/downloads/official/kde/">manjaro KDE Plasma 21.2.4</a>（本来装了arch，大小问题不断被劝退了😜）。基本上这台linux主机要跟着我进入人生下一阶段，作为主力台式机也不打算再折腾了。安装过程中有一些新的学习体会（坑），在这里更新记录一下，希望能帮到有需要的朋友～<span id="more"></span></p><h2 id="三年manjaro使用感悟"><a class="markdownIt-Anchor" href="#三年manjaro使用感悟"></a> 三年manjaro使用感悟</h2><p>总体而言，作为一个linux系统小白，我对manjaro还是相当满意的，基本上，manjaro能满足我日常工作、娱乐的需要。manjaro系统安装显卡驱动和切换内核确实简单，只需在系统设置里改变即可，此外，arch文档翔实、aur软件丰富，大部分问题和需求都能找到对应的解决方案。linux下的开发、科研等涉及编程的工作确实要比windows下爽很多，一行命令搞定一堆安装包，然后用就完了，计算速度上似乎还比window下快一点（也许是心理作用？😁）。游戏方面steam上兼容linux的游戏还是挺多的，我常玩的饥荒、博德之门3等游戏都还能运行，偶尔有问题的话去<a target="_blank" rel="noopener" href="https://www.protondb.com/">protonDB</a>上查一查还是能找到解决方案的，Valve不愧是要搞Steam Deck，估计这方面的兼容性支持会更好。</p><p>manjaro的缺点也是大多数linux系统的通病。为了满足正常使用，用户要做一些文本方面的配置，因此至少需要知道一些命令行的基础知识，这一点上远不如windows点点点直观，而且经常会出现一些奇奇怪怪的小问题，很影响使用体验。此外，linux系统的驱动相对windows依然是个大问题，驱动（尤其是显卡）出问题小白用户就直接GAME OVER了。最后，尽管9成需求我都能在manjaro下解决，仍有1成的需求由于各种原因必须要使用windows，我通常都是挂个windows虚拟机以备不时之需。</p><p>综上所述，我感觉manjaro系统适合满足以下条件的小白群体使用：</p><ul><li>至少有1台<strong>独立</strong>的windows笔记本</li><li>不惧怕查阅资料，能<strong>科学上网</strong></li><li>有一段完整的折腾时间</li><li>没有大型3A游戏或windows专用软件需求</li><li>安装manjaro的硬件<strong>不是最新</strong>的</li></ul><p>不满足第一条的朋友还是老老实实用windows，在虚拟机里尝尝鲜得了😜，至于mac用户，俺们不跟土豪做朋友😢</p><h2 id="系统选择与安装"><a class="markdownIt-Anchor" href="#系统选择与安装"></a> 系统选择与安装</h2><p>manjaro提供了<a target="_blank" rel="noopener" href="https://manjaro.org/downloads/official/xfce/">XFCE</a>、<a target="_blank" rel="noopener" href="https://manjaro.org/downloads/official/kde/">KDE</a>和<a target="_blank" rel="noopener" href="https://manjaro.org/downloads/official/gnome/">GNOME</a>三个桌面的环境的安装iso，我个人偏向于KDE，用着舒服，看着也不赖，倒是没必要再去捣鼓桌面美化啥的。这里建议下载Minimal LTS（长期支持版内核）安装镜像，以最大限度的避免硬件驱动等各种乱七八糟的问题。我选用的5.4版内核会一直支持到<a target="_blank" rel="noopener" href="https://www.kernel.org/category/releases.html">2025年12月</a>，虽然听说kernel版本越高，硬件支持越好，但我实际装的时候最新版本各种诡异驱动问题（咱也不懂，就很玄学），所以还是从LTS出发，先达成一个基本可用的环境，再慢慢升级比较靠谱。</p><blockquote><p>最好进BIOS把内存频率调低，比如2400MHz或2666MHz，我的内存一开始是3000MHz，很容易卡在进图形界面的步骤，查资料好像是啥显卡驱动没有加载上，需要<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA">Early Loading</a>，但是我没有成功过，后来发现把内存频率调低就可以了，就很玄学</p></blockquote><p>下载ISO文件后，用空余的U盘制作启动盘，插上U盘，进BIOS里关掉安全启动（Secure Boot）选项，把U盘的启动顺序调到前面，保存退出后就能进入manjaro的启动界面环境。</p><img src="welcome.png" title="manjaro startup" style="width:100%;max-width:600px;margin:0 auto 0 auto"><p>这里设置一下时区为Asia/Shanghai，选择以开源驱动boot，其它的选项都不用改，反正后期都能调整，核心目的是进入live环境。</p><img src="live.png" title="manjaro live" style="width:100%;max-width:600px;margin:0 auto 0 auto"><p>进去之后会弹出欢迎界面，选择中文语言，一路点击下一步直到分区步骤（这里有时候会卡一会，可能是在联网检测啥东西）。</p><img src="choose_partition.png" title="manjaro choose partition" style="width:100%;max-width:600px;margin:0 auto 0 auto"> <img src="manual_partition.png" title="manjaro manual partition" style="width:100%;max-width:600px;margin:0 auto 0 auto"><p>分区界面根据实际硬件的不同会有各种选项，<strong>抹除磁盘</strong>是自动分区安装的意思，适合不太清楚什么是分区的朋友，一路点点点就行。如果硬盘上还装了windows，manjaro还会有双引导的安装选项，可以说挺简单智能的了，桌面上的Installation Guide会有这些选项的详细介绍。由于manjaro会将所有可用空间全部归到root分区，我想单独划个home分区出来，所以选择了手动方法。这里我分了一个500MB的efi分区，2GB的swap分区（感觉用不上），64GB的root分区，剩下的都划到home分区了。划好分区后点击下一步，设置一些用户名、密码啥的，就可以进入安装过程，安装结束后重启、拔U盘，一切顺利的话就进入manjaro系统了～</p><h2 id="基础设置"><a class="markdownIt-Anchor" href="#基础设置"></a> 基础设置</h2><h3 id="设置manjaro更新镜像源"><a class="markdownIt-Anchor" href="#设置manjaro更新镜像源"></a> 设置manjaro更新镜像源</h3><p>由于众所周知的原因，不更改镜像源和设置科学上网，大部分的开发工具在国内基本没法用。所以进系统的第一步是更改manjaro的系统更新镜像源，选择所在地区的镜像。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-mirrors -c China -m rank &amp;&amp; sudo pacman -Syyu</span><br></pre></td></tr></table></figure><p>该命令选择China地区的镜像源，并对系统做一次更新，因此可能需要等待一会，更新完最好直接重启。</p><h3 id="安装nvidia显卡驱动"><a class="markdownIt-Anchor" href="#安装nvidia显卡驱动"></a> 安装Nvidia显卡驱动</h3><p>重启过后，可以选择安装显卡驱动了。在<strong>系统设置-硬件设定</strong>里选择闭源驱动。我的显卡是GTX1080,好几年前的老卡了，<strong>video-nvidia-470xx</strong>驱动比较靠谱，如果想用最新的驱动，选择<strong>video-nvidia</strong>驱动就可以。</p><p>右键安装，输入管理员密码，安装完毕后重新启动，如果一切顺利进入桌面就表明没问题啦！！！</p><img src="nvidia_settings.png" title="nvidia driver" style="width:100%;max-width:600px;margin:0 auto 0 auto"><h3 id="科学上网"><a class="markdownIt-Anchor" href="#科学上网"></a> 科学上网</h3><p>国内软件安装的大部分问题都是因为众所周知的原因，并且优秀开发和参考资料多为英文，因此科学上网属于一切学术研究和开发工作的必要条件，将科学上网作为终身学习的课题，花时间研究是值得的。</p><p>我采用的是proxychains结合v2ray的方式，不再使用之前的shadowsocks：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S proxychains-ng v2ray</span><br></pre></td></tr></table></figure><p>proxychains的配置文件为/etc/proxychains.conf，用kate打开该文件，修改最后一行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socks5 127.0.0.1 1080</span><br></pre></td></tr></table></figure><p>v2ray的配置文件在/etc/v2ray目录下，这一部分有很多的学习资料了，我写了一个脚本自动获取生成配置文件config1.json，启动部分我采用手动挡输入命令，以后有空再研究自动挡的方式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v2ray -c /etc/v2ray/config1.json </span><br></pre></td></tr></table></figure><p>科学上网的基本设置就结束了，浏览器可以在网络设置中选择socks5代理，转发本地1080端口；想要代理命令行程序，可以采用proxychains+命令的方式，比如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q wget www.google.com</span><br></pre></td></tr></table></figure><h3 id="安装yay"><a class="markdownIt-Anchor" href="#安装yay"></a> 安装yay</h3><h4 id="安装yay-2"><a class="markdownIt-Anchor" href="#安装yay-2"></a> 安装yay</h4><p>yay可以当作pacman使用，也是用来安装AUR里软件包的工具，尽管manjaro自带的软件包管理器Pamac可以开启aur选项，以图形化界面的形式安装软件，但是Pamac似乎有许多<a target="_blank" rel="noopener" href="https://gitlab.manjaro.org/applications/pamac/-/issues/1017">bug</a>，所以还是使用yay这一更常用的命令行工具。</p><p>manjaro下yay的安装非常简单，甚至不需要自己去编译:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure><h4 id="proxychainsyay"><a class="markdownIt-Anchor" href="#proxychainsyay"></a> proxychains+yay</h4><p>至此yay已经可以正常使用了，不过AUR里的软件包经常需要下载github等外网代码、文件，由于众所周知的原因，速度会慢的跟龟爬一样，所以最好还是搭配proxychains等工具使用。默认的yay采用go编译，这一版本同proxychains等代理工具有<a target="_blank" rel="noopener" href="https://github.com/Jguer/yay/issues/429">冲突</a>，解决方案是用gcc-go重新编译，但是目前的v11.1.2版本的yay编译过不去，我没有能力解决问题，只能选择v11.1.1的yay。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yay -S base-devel gcc-go</span><br><span class="line">mkdir build &amp;&amp; cd build &amp;&amp; git clone https://aur.archlinux.org/yay.git</span><br><span class="line">cd yay</span><br><span class="line">proxychains -q wget https://github.com/Jguer/yay/archive/v11.1.1.tar.gz</span><br></pre></td></tr></table></figure><p>然后用kate修改PKGBUILD里如下部分：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pkgname=yay</span><br><span class="line">pkgver=11.1.1 # 修改版本为11.1.1</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">makedepends=(&#x27;gcc-go&gt;=1.16&#x27;) # 修改为gcc-go&gt;=1.16</span><br><span class="line">source=(&quot;$&#123;pkgname&#125;-$&#123;pkgver&#125;.tar.gz::https://github.com/Jguer/yay/archive/v$&#123;pkgver&#125;.tar.gz&quot;)</span><br><span class="line">sha256sums=(&#x27;31ed6d828574601e77b8df90c6e734a230ea60531b704934038d52fe213c0898&#x27;) # 修改sha256的值</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>由于yay会下载一些go的依赖，所以也要设置go的代理（众所周知😥），最后yay的目录下直接编译安装，此时的yay就可以跟proxychains完美配合啦，接下来我基本都使用yay安装manjaro官方和AUR的软件~</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export GO111MODULE=on</span><br><span class="line">export GOPROXY=https://goproxy.cn</span><br><span class="line">makepkg -sic</span><br></pre></td></tr></table></figure><h4 id="忽略yay的更新"><a class="markdownIt-Anchor" href="#忽略yay的更新"></a> 忽略yay的更新</h4><p>由于目前11.1.2版本的yay是manjaro默认的版本，更新系统时会自动替换老版本11.1.1，如果不想更新yay，可以在/etc/pacman.conf中忽略yay的更新，添加如下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IgnorePkg = yay</span><br></pre></td></tr></table></figure><h3 id="中文字体和中文输入法"><a class="markdownIt-Anchor" href="#中文字体和中文输入法"></a> 中文字体和中文输入法</h3><h4 id="开源中文字体"><a class="markdownIt-Anchor" href="#开源中文字体"></a> 开源中文字体</h4><p>国内习惯了用windows自带的中文字体，比如楷体、宋体等，而这些在linux上因为版权问题发行版不会默认自带，需要我们自己“安装”使用（毕竟已经买了windows的笔记本了，用就完了哈哈哈）。当然有些字体是免费开源的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S wqy-microhei wqy-microhei-lite wqy-zenhei noto-fonts-cjk adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts</span><br></pre></td></tr></table></figure><h4 id="中文输入法"><a class="markdownIt-Anchor" href="#中文输入法"></a> 中文输入法</h4><p>中文输入法采用fcitx5，输入以下命令安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S fcitx5 fcitx5-configtool fcitx5-chinese-addons fcitx5-qt fcitx5-gtk fcitx5-lua</span><br></pre></td></tr></table></figure><p>安装完毕后用kate打开/etc/environment文件，在其中输入如下变量，然后注销再重新登陆，就可以使用中文输入法了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br><span class="line">INPUT_METHOD=fcitx</span><br><span class="line">SDL_IM_MODULE=fcitx</span><br><span class="line">GLFW_IM_MODULE=ibus</span><br></pre></td></tr></table></figure><p>默认拼音和英文的切换快捷键是ctrl+shift，不喜欢的话可以在<strong>系统设置-区域设置-输入法</strong>里进行调整，更多的相关设置也可以参考arch的<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">中文输入法</a>。</p><h4 id="win10字体安装"><a class="markdownIt-Anchor" href="#win10字体安装"></a> win10字体安装</h4><p>想要安装win10的字体（十分有必要），AUR提供了ttf-ms-win10的安装包，不过不提供字体文件，需要自己从已有的win10系统（拷贝所有C:\Windows\Fonts下的字体文件）或从win10镜像中抽取字体文件，这里介绍如何抽取字体，首先从AUR拷贝tff-ms-win10：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p build &amp;&amp; cd build</span><br><span class="line">git clone https://aur.archlinux.org/ttf-ms-win10.git</span><br></pre></td></tr></table></figure><p>然后挂载win10安装镜像，manjaro下只需要右键选择挂载ISO，Dolphin的左边即可出现ISO的访问文件路径，找出source文件夹下的install.esd或install.wim文件，把该文件拷贝到ttf-ms-win10文件夹下，执行如下命令解锁所有字体文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wimextract install.esd 1 /Windows/&#123;Fonts/&quot;*&quot;.&#123;ttf,ttc&#125;,System32/Licenses/neutral/&quot;*&quot;/&quot;*&quot;/license.rtf&#125; --dest-dir .</span><br></pre></td></tr></table></figure><p>然后修改PKGBUILD如下，添加的字体文件表示仿宋、黑体和楷体：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">_ttf_ms_win10_zh_cn=(</span><br><span class="line">simsun.ttc                                                 </span><br><span class="line">simfang.ttf simhei.ttf simkai.ttf # 增加这行内容</span><br><span class="line">simsunb.ttf                                                 </span><br><span class="line">msyh.ttc   </span><br><span class="line">msyhbd.ttc                                   </span><br><span class="line">msyhl.ttc   </span><br></pre></td></tr></table></figure><p>最后在ttf-ms-win10目录下执行安装命令，注意如果报错，大概率是当前抽取的字体文件中没有该字体，可以按照错误提示从网上下载ttf文件加入其中，或者在PKGBUILD里删掉该字体，毕竟只有中文字体比较重要：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">makepkg -sic --skipchecksums</span><br></pre></td></tr></table></figure><p>安装完成后可以在<strong>系统设置-外观-字体管理</strong>中检查字体安装是否正确。</p><h3 id="ryzen随机卡死问题"><a class="markdownIt-Anchor" href="#ryzen随机卡死问题"></a> Ryzen随机卡死问题</h3><p>这个问题三年前就遇到了，当时系统会随机卡死无响应（切terminal什么都没用）。这个问题是Ryzen处理器的一个<a target="_blank" rel="noopener" href="https://github.com/jfredrickson/disable-c6">bug</a>，不知道现在的Ryzen系列有没有解决这个问题（我是AMD Ryzen 5 1600，也是老处理器了），总之我重装系统后依然有这个问题。解决方案就是disable C6 state，最好重启后再执行如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S disable-c6-systemd</span><br><span class="line">sudo modprobe msr</span><br></pre></td></tr></table></figure><p>编辑/etc/modules-load.d/modules.conf，添加msr这一行，以便在启动时加载msr模块：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msr</span><br></pre></td></tr></table></figure><p>最后，启动如下service：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable disable-c6.service</span><br><span class="line">sudo systemctl start disable-c6.service</span><br></pre></td></tr></table></figure><p>过去三年里基本没有出现这种随机卡死的问题了，感恩大佬。</p><h3 id="其他优化"><a class="markdownIt-Anchor" href="#其他优化"></a> 其他优化</h3><h4 id="ssd优化"><a class="markdownIt-Anchor" href="#ssd优化"></a> SSD优化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable fstrim.timer</span><br><span class="line">sudo systemctl start fstrim.timer</span><br></pre></td></tr></table></figure><h4 id="切换登陆终端"><a class="markdownIt-Anchor" href="#切换登陆终端"></a> 切换登陆终端</h4><p>manjaro默认的zsh十分好用，不过非图形界面下的terminal还是bash，可以设为zsh：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><h4 id="切换内核版本"><a class="markdownIt-Anchor" href="#切换内核版本"></a> 切换内核版本</h4><p>在<strong>系统设置-内核</strong>中点点就好啦，会安装一大堆东西，装完重启一下。</p><p>我切回了5.4的内核，新换内核后原内核最好保留一段时间，避免系统挂掉，还可以在初始启动界面选择从哪个内核进入系统。</p><h2 id="常用软件安装"><a class="markdownIt-Anchor" href="#常用软件安装"></a> 常用软件安装</h2><h3 id="minicondapython"><a class="markdownIt-Anchor" href="#minicondapython"></a> miniconda+python</h3><p>python作为我科研的主力编程语言，我选择用conda管理不同的python版本，首先安装miniconda，运行后一路回车或yes,最后会询问要不要把conda加入环境变量，这里可以选择no：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">chmod +x Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">./Miniconda3-latest-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p>注意在terminal中还是没法直接使用conda的，因为不知道conda安装在哪，这里执行如下命令写入环境变量：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">～/miniconda3/bin/conda init zsh</span><br></pre></td></tr></table></figure><p>退出terminal再重开，就能使用conda啦～</p><p>manjaro原来的terminal使用的是bash，2022版konsole使用了zsh（自带颜色、命令记忆补全，超级赞😃），如果想在bash中使用conda，将上面的zsh换成bash即可完成初始化的操作。bash的相关设置在.bashrc里，zsh的相关设置在.zshrc里，两者是默认不互通的。</p><p>老规矩，由于众所周知的原因，需要更换conda的镜像源，这里用清华tuna的镜像：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure><p>在.condarc文件里粘贴以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br></pre></td></tr></table></figure><p>另外pip的源最好也更改一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h3 id="wps-office办公"><a class="markdownIt-Anchor" href="#wps-office办公"></a> wps office办公</h3><p>linux上最好用的office软件套装，搭配前面的win10字体可以做很多文字工作，不用切换到windows，安装如下AUR软件包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S wps-office wps-office-mui-zh-cn ttf-wps-fonts</span><br></pre></td></tr></table></figure><p>装完最好重启一下，目前我没遇到啥大问题，如果有问题的话可以看看arch的<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/WPS_Office">wiki</a>。</p><h3 id="vscode编辑器"><a class="markdownIt-Anchor" href="#vscode编辑器"></a> vscode编辑器</h3><p>超好用的编辑器，建议安装微软的二进制版本，可以多搜到一些好用的扩展包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S visual-studio-code-bin</span><br></pre></td></tr></table></figure><h3 id="virtualbox虚拟机"><a class="markdownIt-Anchor" href="#virtualbox虚拟机"></a> virtualbox虚拟机</h3><p>如果要使用微信之类国产软件的话，用虚拟机装个windows就行了，还能跟主系统隔离开来，台式机也不太考虑性能问题，这里建议参考manjaro的<a target="_blank" rel="noopener" href="https://wiki.manjaro.org/index.php/VirtualBox">wiki</a>，注意自己的linux内核版本，比如我的是linux54，别的版本需要替换下面命令中的linux54。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S virtualbox linux54-virtualbox-host-modules</span><br></pre></td></tr></table></figure><p>安装完成后最好重启再完成后续工作。重启后需要安装扩展增强包，先看一下自己的virtualbox版本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage --version</span><br></pre></td></tr></table></figure><p>比如我是6.1.32r149290，那我就需要安装对应版本的扩展包，使用yay搜索可用的扩展包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay virtualbox-ext-oracle</span><br></pre></td></tr></table></figure><p>会弹出很多选项，要安装哪个输入序号回车。</p><p>最后需要将当前的用户加入vboxuser组，重启或注销就可以使用虚拟机啦～</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a $USER vboxusers</span><br></pre></td></tr></table></figure><h3 id="latex论文写作"><a class="markdownIt-Anchor" href="#latex论文写作"></a> LaTex论文写作</h3><p>即使作为科研垃圾，也不得不产出论文😟。科技论文写作里LaTex可比word好用多了（前提是有模板），manjaro安装LaTex也很简单，配合vscode的LaTex扩展写论文不要太爽。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S texlive-most texlive-lang biber texlive-bibtexextra texlive-fontsextra </span><br></pre></td></tr></table></figure><p>安完之后去vscode扩展里装LaTex Workshop，就可以开始写作了。如果要写中文论文，可以在vscode的settings.json里输入如下内容（一般vscode敲完latex-workshop.latex.tools之后就会自动补全后面值，在最前面添加一个就好）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;latex-workshop.latex.tools&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;xelatexmk&quot;,</span><br><span class="line">            &quot;command&quot;: &quot;latexmk&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;-synctex=1&quot;,</span><br><span class="line">                &quot;-interaction=nonstopmode&quot;,</span><br><span class="line">                &quot;-file-line-error&quot;,</span><br><span class="line">                &quot;-xelatex&quot;,</span><br><span class="line">                &quot;-outdir=%OUTDIR%&quot;,</span><br><span class="line">                &quot;%DOC%&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;env&quot;: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;latex-workshop.latex.recipes&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">            &quot;name&quot;: &quot;xelatexmk 🔃&quot;,</span><br><span class="line">            &quot;tools&quot;: [</span><br><span class="line">                &quot;xelatexmk&quot;</span><br><span class="line">            ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;latex-workshop.view.pdf.viewer&quot;: &quot;external&quot;,</span><br><span class="line">    &quot;latex-workshop.latex.recipe.default&quot;: &quot;lastUsed&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后使用扩展菜单中的xelatexmk就可以编译中文内容啦～</p><h3 id="onedrive网盘"><a class="markdownIt-Anchor" href="#onedrive网盘"></a> OneDrive网盘</h3><p>一直用onedrive习惯了，配合代理速度也还行，不太想用国内的其他网盘🤐。manjaro下使用<a target="_blank" rel="noopener" href="https://github.com/abraunegg/onedrive/">这个项目</a>的onedrive命令行来同步：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S onedrive-abraunegg</span><br><span class="line">onedrive</span><br></pre></td></tr></table></figure><p>按照提示进行设置，设置完成后就可以使用了，因为我比较懒，没有研究自动同步功能，所以都是配合代理手动同步：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q onedrive --synchronize</span><br></pre></td></tr></table></figure><p>反正又不是不能用，有空再看看自动同步咋搞。</p><h3 id="xmind思维导图"><a class="markdownIt-Anchor" href="#xmind思维导图"></a> xmind思维导图</h3><p>AUR仓库里自带xmind8，直接输入以下命令即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S xmind</span><br></pre></td></tr></table></figure><p>不过这一版本的xmind需要openjdk8的依赖才能运行，执行以下命令安装openjdk8：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S jdk8-openjdk</span><br></pre></td></tr></table></figure><p>然后用kate或code打开/usr/share/xmind/XMind/XMind.ini文件，在文件开头添加如下文本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-vm</span><br><span class="line">/usr/lib/jvm/java-8-openjdk/bin</span><br></pre></td></tr></table></figure><p>保存退出，xmind就能正常运行啦！</p><h3 id="hexo博客管理"><a class="markdownIt-Anchor" href="#hexo博客管理"></a> hexo博客管理</h3><p>我的博客部署在github pages上，采用hexo管理，首先需要安装nodejs，用AUR的nvm管理不同的node版本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yay -S nvm</span><br><span class="line">#使用nvm前需要运行这一句，可以将其写入.zshrc或.bashrc</span><br><span class="line">source /usr/share/nvm/init-nvm.sh</span><br><span class="line">nvm install node</span><br></pre></td></tr></table></figure><p>然后安装npm及hexo：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yay -S npm</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>hexo的使用方法可见<a target="_blank" rel="noopener" href="https://hexo.io/docs/commands">参考文档</a>。</p><h3 id="其他软件"><a class="markdownIt-Anchor" href="#其他软件"></a> 其他软件</h3><h4 id="qbittorrent"><a class="markdownIt-Anchor" href="#qbittorrent"></a> qBittorrent</h4><p>还没有把硬盘填满吗？快使用qBittorrent吧～</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S qbittorrent</span><br></pre></td></tr></table></figure><h4 id="yesplaymusicspotify"><a class="markdownIt-Anchor" href="#yesplaymusicspotify"></a> yesplaymusic+spotify</h4><p>yesplaymusic是网易云音乐的替代，超漂亮的云音乐播放器，没有乱七八糟的功能，颜值党狂喜，安装简单（需要proxychains，老实讲大部分从github下载文件的都需要）:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q yay -S yesplaymusic</span><br></pre></td></tr></table></figure><p>除此之外也可以安装spotify，让我们一起聆听IU的美妙歌声😍。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q yay -S spotify</span><br></pre></td></tr></table></figure><p>大陆地区反正不挂代理能用，不能用再说，又没有交钱，要什么自行车～</p><p>PS：视频播放器直接用自带的VLC就好，功能强大，没啥不能播的。</p><h4 id="文件名编码转换"><a class="markdownIt-Anchor" href="#文件名编码转换"></a> 文件名编码转换</h4><p>windows默认GB2312，linux一般用UTF-8，从windows拷贝过来的中文文件名有时候是乱码，可以用convmv转化一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yay -S convmv</span><br><span class="line"># 测试转换是否成功，不实际执行转换</span><br><span class="line">convmv -f GBK -t UTF-8 -r your_folder_or_file</span><br><span class="line"># 执行实际转换</span><br><span class="line">convmv -f GBK -t UTF-8 -r --notest your_folder_or_file</span><br></pre></td></tr></table></figure><h4 id="ufw防火墙服务"><a class="markdownIt-Anchor" href="#ufw防火墙服务"></a> ufw防火墙服务</h4><p>manjaro默认不带ufw防火墙，虽然我听说可以用iptables添加规则，但目前不懂怎么设置，先装了gufw：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yay -S ufw gufw</span><br><span class="line">sudo systemctl enable ufw.service</span><br><span class="line">sudo systemctl start ufw.service</span><br></pre></td></tr></table></figure><p>开始菜单里就会出现防火墙配置的程序，先使用默认的就好，以后<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Uncomplicated_Firewall#Installation">再研究</a>。</p><h4 id="远程桌面"><a class="markdownIt-Anchor" href="#远程桌面"></a> 远程桌面</h4><p>如果有远程桌面的需求，比如连接windows笔记本、树莓派之类的，可以使用Remmina：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S remmina freerdp libvncserver spice-gtk</span><br></pre></td></tr></table></figure><h4 id="caj2pdf"><a class="markdownIt-Anchor" href="#caj2pdf"></a> caj2pdf</h4><p>中国知网大部分论文都是caj格式（什么垃圾玩意），在linux下先转换成pdf格式再阅读比较方便，这里推荐<a target="_blank" rel="noopener" href="https://github.com/JeziL/caj2pdf">caj2pdf</a>工具，当然成功与否<strong>全部靠命</strong>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q yay -S caj2pdf</span><br><span class="line"></span><br><span class="line"># 转换caj到pdf</span><br><span class="line">caj2pdf convert 某篇博士论文.caj -o 某篇博士论文.pdf</span><br></pre></td></tr></table></figure><h4 id="colorpicker"><a class="markdownIt-Anchor" href="#colorpicker"></a> colorpicker</h4><p>还在为做PPT找不到好配色烦恼吗？安装colorpicker，运行命令，鼠标一点即可获取颜色的RGB和Hex值，获取完直接ctrl+c退出。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxychains -q yay -S colorpicker</span><br><span class="line">colorpicker</span><br></pre></td></tr></table></figure><h2 id="troubleshooting"><a class="markdownIt-Anchor" href="#troubleshooting"></a> Troubleshooting</h2><p>这里放一些<strong>或许有</strong>的问题，方便大家排查，没事干时多看看KSystemlog~</p><ul><li><a target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=270972">spam log</a></li><li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Baloo">baloo limit</a></li></ul></div><blockquote class="copyright"><p><strong>本文链接 : </strong><a class="permalink" href="https://mrswolf.github.io/2019/05/24/manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0/">https://mrswolf.github.io/2019/05/24/manjaro踩坑记/</a></p><p><strong>This article is available under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a> License</strong></p></blockquote></article></main><aside id="sidebar" class="aside aside-fixture"><div class="toc-sidebar"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%B9%B4manjaro%E4%BD%BF%E7%94%A8%E6%84%9F%E6%82%9F"><span class="toc-number">1.</span> <span class="toc-text">三年manjaro使用感悟</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E9%80%89%E6%8B%A9%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">系统选择与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">基础设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEmanjaro%E6%9B%B4%E6%96%B0%E9%95%9C%E5%83%8F%E6%BA%90"><span class="toc-number">3.1.</span> <span class="toc-text">设置manjaro更新镜像源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85nvidia%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8"><span class="toc-number">3.2.</span> <span class="toc-text">安装Nvidia显卡驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91"><span class="toc-number">3.3.</span> <span class="toc-text">科学上网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85yay"><span class="toc-number">3.4.</span> <span class="toc-text">安装yay</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85yay-2"><span class="toc-number">3.4.1.</span> <span class="toc-text">安装yay</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#proxychainsyay"><span class="toc-number">3.4.2.</span> <span class="toc-text">proxychains+yay</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5yay%E7%9A%84%E6%9B%B4%E6%96%B0"><span class="toc-number">3.4.3.</span> <span class="toc-text">忽略yay的更新</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93%E5%92%8C%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="toc-number">3.5.</span> <span class="toc-text">中文字体和中文输入法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93"><span class="toc-number">3.5.1.</span> <span class="toc-text">开源中文字体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">中文输入法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#win10%E5%AD%97%E4%BD%93%E5%AE%89%E8%A3%85"><span class="toc-number">3.5.3.</span> <span class="toc-text">win10字体安装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ryzen%E9%9A%8F%E6%9C%BA%E5%8D%A1%E6%AD%BB%E9%97%AE%E9%A2%98"><span class="toc-number">3.6.</span> <span class="toc-text">Ryzen随机卡死问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96"><span class="toc-number">3.7.</span> <span class="toc-text">其他优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ssd%E4%BC%98%E5%8C%96"><span class="toc-number">3.7.1.</span> <span class="toc-text">SSD优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%99%BB%E9%99%86%E7%BB%88%E7%AB%AF"><span class="toc-number">3.7.2.</span> <span class="toc-text">切换登陆终端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC"><span class="toc-number">3.7.3.</span> <span class="toc-text">切换内核版本</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">常用软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#minicondapython"><span class="toc-number">4.1.</span> <span class="toc-text">miniconda+python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wps-office%E5%8A%9E%E5%85%AC"><span class="toc-number">4.2.</span> <span class="toc-text">wps office办公</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vscode%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">4.3.</span> <span class="toc-text">vscode编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#virtualbox%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">4.4.</span> <span class="toc-text">virtualbox虚拟机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#latex%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C"><span class="toc-number">4.5.</span> <span class="toc-text">LaTex论文写作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#onedrive%E7%BD%91%E7%9B%98"><span class="toc-number">4.6.</span> <span class="toc-text">OneDrive网盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xmind%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE"><span class="toc-number">4.7.</span> <span class="toc-text">xmind思维导图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hexo%E5%8D%9A%E5%AE%A2%E7%AE%A1%E7%90%86"><span class="toc-number">4.8.</span> <span class="toc-text">hexo博客管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6"><span class="toc-number">4.9.</span> <span class="toc-text">其他软件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#qbittorrent"><span class="toc-number">4.9.1.</span> <span class="toc-text">qBittorrent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yesplaymusicspotify"><span class="toc-number">4.9.2.</span> <span class="toc-text">yesplaymusic+spotify</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%90%8D%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.9.3.</span> <span class="toc-text">文件名编码转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ufw%E9%98%B2%E7%81%AB%E5%A2%99%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.9.4.</span> <span class="toc-text">ufw防火墙服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2"><span class="toc-number">4.9.5.</span> <span class="toc-text">远程桌面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#caj2pdf"><span class="toc-number">4.9.6.</span> <span class="toc-text">caj2pdf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#colorpicker"><span class="toc-number">4.9.7.</span> <span class="toc-text">colorpicker</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#troubleshooting"><span class="toc-number">5.</span> <span class="toc-text">Troubleshooting</span></a></li></ol></nav></div></aside></section><footer class="hidden lg:block fixed bottom-0 left-0 sm:w-1/12 lg:w-1/6 bg-gray-100 z-40"><div class="footer-social-links"><a target="_blank" rel="noopener" href="https://github.com/mrswolf"><i class="iconfont icon-github"></i> </a><a href="/atom.xml"><i class="iconfont icon-rss"></i></a></div></footer><div id="mask" class="hidden mask fixed inset-0 bg-gray-900 opacity-75 z-40"></div><div id="search-view-container" class="hidden shadow-xl"></div><script src="/js/dom-event.min.js"></script><script src="/js/local-search.min.js"></script><script src="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/js/lightgallery.min.js"></script><script src="/js/light-gallery.min.js"></script></body></html>